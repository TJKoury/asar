module.exports=function(e){function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}var t={};return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=4)}([function(e,r){e.exports=require("fs")},function(e,r){e.exports=require("path")},function(e,r){e.exports=require("mkdirp")},function(e,r,t){"use strict";function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),a=t(0),o=t(1),c=t(6),s=t(7).UINT64,u=function(){function e(r){n(this,e),this.src=o.resolve(r),this.header={files:{}},this.offset=s(0)}return i(e,[{key:"searchNodeFromDirectory",value:function(e){var r=this.header,t=e.split(o.sep),n=!0,i=!1,a=void 0;try{for(var c,s=t[Symbol.iterator]();!(n=(c=s.next()).done);n=!0){var u=c.value;"."!==u&&(r=r.files[u])}}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}},{key:"searchNodeFromPath",value:function(e){if(!(e=o.relative(this.src,e)))return this.header;var r=o.basename(e),t=this.searchNodeFromDirectory(o.dirname(e));return null==t.files&&(t.files={}),null==t.files[r]&&(t.files[r]={}),t.files[r]}},{key:"insertDirectory",value:function(e,r){var t=this.searchNodeFromPath(e);return r&&(t.unpacked=r),t.files={},t.files}},{key:"insertFile",value:function(e,r,t,n,i){var u=this,l=this.searchNodeFromPath(o.dirname(e)),f=this.searchNodeFromPath(e);if(r||l.unpacked)return f.size=t.stat.size,f.unpacked=!0,void process.nextTick(i);var d=function(){var r=t.transformed?t.transformed.stat.size:t.stat.size;if(r>4294967295)throw new Error(e+": file size can not be larger than 4.2GB");return f.size=r,f.offset=u.offset.toString(),"win32"!==process.platform&&64&t.stat.mode&&(f.executable=!0),u.offset.add(s(r)),i()},v=n.transform&&n.transform(e);return v?c.file(function(r,n){if(r)return d();var i=a.createWriteStream(n);return a.createReadStream(e).pipe(v).pipe(i),v.on("end",function(){return t.transformed={path:n,stat:a.lstatSync(n)},d()})}):process.nextTick(d)}},{key:"insertLink",value:function(e,r){var t=o.relative(a.realpathSync(this.src),a.realpathSync(e));if(".."===t.substr(0,2))throw new Error(e+": file links out of the package");return this.searchNodeFromPath(e).link=t,t}},{key:"listFiles",value:function(){var e=[];return function r(t,n){if(n.files)return function(){var i=[];for(var a in n.files){var c=o.join(t,a);e.push(c),i.push(r(c,n.files[a]))}return i}()}("/",this.header),e}},{key:"getNode",value:function(e){var r=this.searchNodeFromDirectory(o.dirname(e)),t=o.basename(e);return t?r.files[t]:r}},{key:"getFile",value:function(e,r){r=void 0===r||r;var t=this.getNode(e);return t.link&&r?this.getFile(t.link):t}}]),e}();e.exports=u},function(e,r,t){"use strict";var n=t(0),i=t(1),a=t(5),o=t(2),c=t(3),s=t(8),u=t(10),l=t(12),f=function(e,r,t){if(0===e.indexOf(r)||a(e,r))return-1===t.indexOf(e)&&t.push(e),!0;for(var n=0;n<t.length;n++)if(0===e.indexOf(t[n]))return!0;return!1};e.exports.createPackage=function(r,t,n){return e.exports.createPackageWithOptions(r,t,{},n)},e.exports.createPackageWithOptions=function(r,t,n,i){var a=void 0===n.dot||n.dot;return u(r,{dot:a},function(a,o,c){if(a)return i(a);e.exports.createPackageFromFiles(r,t,o,c,n,i)})},e.exports.createPackageFromFiles=function(e,r,t,u,d,v){void 0!==u&&null!==u||(u={});var y=new c(e),p=[],h=[],m=[];if(d.ordering){var S=n.readFileSync(d.ordering).toString().split("\n").map(function(e){return e.includes(":")&&(e=e.split(":").pop()),e=e.trim(),e.startsWith("/")&&(e=e.slice(1)),e}),k=[],x=!0,F=!1,g=void 0;try{for(var w,b=S[Symbol.iterator]();!(x=(w=b.next()).done);x=!0){var z=w.value,P=z.split(i.sep),N=e,O=!0,j=!1,q=void 0;try{for(var D,E=P[Symbol.iterator]();!(O=(D=E.next()).done);O=!0){var I=D.value;N=i.join(N,I),k.push(N)}}catch(e){j=!0,q=e}finally{try{!O&&E.return&&E.return()}finally{if(j)throw q}}}}catch(e){F=!0,g=e}finally{try{!x&&b.return&&b.return()}finally{if(F)throw g}}var _=0,B=t.length,L=!0,T=!1,U=void 0;try{for(var A,W=k[Symbol.iterator]();!(L=(A=W.next()).done);L=!0){var H=A.value;!m.includes(H)&&t.includes(H)&&m.push(H)}}catch(e){T=!0,U=e}finally{try{!L&&W.return&&W.return()}finally{if(T)throw U}}var C=!0,J=!1,M=void 0;try{for(var R,G=t[Symbol.iterator]();!(C=(R=G.next()).done);C=!0){var K=R.value;m.includes(K)||(m.push(K),_+=1)}}catch(e){J=!0,M=e}finally{try{!C&&G.return&&G.return()}finally{if(J)throw M}}console.log("Ordering file has "+(B-_)/B*100+"% coverage.")}else m=t;var Q=function(r,t){var o=u[r],c=void 0;if(!o){var s=n.lstatSync(r);s.isDirectory()&&(c="directory"),s.isFile()&&(c="file"),s.isSymbolicLink()&&(c="link"),o={stat:s,type:c}}var l=void 0;switch(o.type){case"directory":l=!!d.unpackDir&&f(i.relative(e,r),d.unpackDir,h),y.insertDirectory(r,l);break;case"file":if(l=!1,d.unpack&&(l=a(r,d.unpack,{matchBase:!0})),!l&&d.unpackDir){var v=i.relative(e,i.dirname(r));l=f(v,d.unpackDir,h)}return p.push({filename:r,unpack:l}),void y.insertFile(r,l,o,d,t);case"link":y.insertLink(r,o.stat)}return process.nextTick(t)},V=function(){return o(i.dirname(r),function(n){return n?v(n):s.writeFilesystem(r,y,p,u,function(n){return n?v(n):d.snapshot?l(e,r,t,u,d,v):v(null)})})},X=m.slice();return function e(r){return r?Q(r,function(){return e(X.shift())}):V()}(X.shift())},e.exports.statFile=function(e,r,t){return s.readFilesystemSync(e).getFile(r,t)},e.exports.listPackage=function(e){return s.readFilesystemSync(e).listFiles()},e.exports.extractFile=function(e,r){var t=s.readFilesystemSync(e);return s.readFileSync(t,r,t.getFile(r))},e.exports.extractAll=function(e,r){var t=s.readFilesystemSync(e),a=t.listFiles(),c="win32"===process.platform;return o.sync(r),a.map(function(e){e=e.substr(1);var a=i.join(r,e),u=t.getFile(e,c);if(u.files)o.sync(a);else if(u.link){var l=i.dirname(i.join(r,u.link)),f=i.dirname(a),d=i.relative(f,l);!function(){try{n.unlinkSync(a)}catch(e){}}();var v=i.join(d,i.basename(u.link));n.symlinkSync(v,a)}else{var y=s.readFileSync(t,e,u);n.writeFileSync(a,y)}})}},function(e,r){e.exports=require("minimatch")},function(e,r){e.exports=require("tmp")},function(e,r){e.exports=require("cuint")},function(e,r,t){"use strict";var n=t(0),i=t(1),a=t(2),o=t(9),c=t(3),s={},u=function(e,r,t){var o=i.join(r,t),c=i.join(e,t),s=n.readFileSync(o),u=n.statSync(o);return a.sync(i.dirname(c)),n.writeFileSync(c,s,{mode:u.mode})},l=function e(r,t,a,o,c,s){if(0===o.length)return a.end(),s(null);var l=o[0];if(l.unpack){var f=i.relative(t.src,l.filename);try{u(r+".unpacked",t.src,f)}catch(e){return s(e)}return e(r,t,a,o.slice(1),c,s)}var d=c[l.filename].transformed,v=n.createReadStream(d?d.path:l.filename);return v.pipe(a,{end:!1}),v.on("error",s),v.on("end",function(){return e(r,t,a,o.slice(1),c,s)})};e.exports.writeFilesystem=function(e,r,t,i,a){var c=void 0,s=void 0;try{var u=o.createEmpty();u.writeString(JSON.stringify(r.header)),s=u.toBuffer();var f=o.createEmpty();f.writeUInt32(s.length),c=f.toBuffer()}catch(e){return a(e)}var d=n.createWriteStream(e);return d.on("error",a),d.write(c),d.write(s,function(){return l(e,r,d,t,i,a)})},e.exports.readArchiveHeaderSync=function(e){var r=n.openSync(e,"r"),t=void 0,i=void 0;try{var a=new Buffer(8),c=this.checkFileSignature(e,null);if(8!==n.readSync(r,a,0,8,c))throw new Error("Unable to read header size");if(t=o.createFromBuffer(a).createIterator().readUInt32(),i=new Buffer(t),n.readSync(r,i,0,t,c+8)!==t)throw new Error("Unable to read header")}finally{n.closeSync(r)}var s=o.createFromBuffer(i),u=s.createIterator().readString();return{header:JSON.parse(u),headerSize:t}},e.exports.readFilesystemSync=function(e){if(!s[e]){var r=this.readArchiveHeaderSync(e),t=new c(e);t.header=r.header,t.headerSize=r.headerSize,s[e]=t}return s[e]},e.exports.readFileSync=function(e,r,t){var a=new Buffer(t.size);if(t.size<=0)return a;if(t.unpacked)a=n.readFileSync(i.join(e.src+".unpacked",r));else{var o=n.openSync(e.src,"r");try{var c=8+e.headerSize+parseInt(t.offset);n.readSync(o,a,0,t.size,c)}finally{n.closeSync(o)}}return a},e.exports.checkFileSignature=function(e,r){var t=n.openSync(e,"r"),i=Buffer.alloc(12),a=n.fstatSync(t).size;if(a>12){n.readSync(t,i,0,12,a-12);var o=[i.readUIntLE(0,6),i.readUIntLE(6,1),i.readUIntLE(7,5)],c=o[0],s=o[1],u=o[2];n.closeSync(t);var l=a-c-12;return u===c>>s?l:r}}},function(e,r){e.exports=require("chromium-pickle-js")},function(e,r,t){"use strict";var n=t(0),i=t(11);e.exports=function(e,r,t){var a={};return i(e+"/**/*",r,function(e,r){if(e)return t(e);var i=!0,o=!1,c=void 0;try{for(var s,u=r[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value,f=n.lstatSync(l);f.isFile()?a[l]={type:"file",stat:f}:f.isDirectory()?a[l]={type:"directory",stat:f}:f.isSymbolicLink()&&(a[l]={type:"link",stat:f})}}catch(e){o=!0,c=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw c}}return t(null,r,a)})}},function(e,r){e.exports=require("glob")},function(e,r,t){"use strict";var n=t(0),i=t(1),a=t(13),o=t(14),c=function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},s=function(e){return"(function(exports, require, module, __filename, __dirname) { "+(e=e.replace(/^#!.*/,""))+" \n});"},u=function(e){var r="var __ATOM_SHELL_SNAPSHOT = {\n";for(var t in e){r+="  '"+t+"': "+e[t].toString()+",\n"}return r+="};\n"},l=function(e,r,t,l,f,d){var v={};try{e=i.resolve(e);var y=!0,p=!1,h=void 0;try{for(var m,S=t[Symbol.iterator]();!(y=(m=S.next()).done);y=!0){var k=m.value,x=l[k];if(("file"===x.type||"link"===x.type)&&".js"===k.substr(-3)){var F=s(c(n.readFileSync(k,"utf8"))),g=i.relative(e,k);try{var w=o.runInThisContext(F,{filename:g});v[g]=w}catch(e){console.error("Ignoring "+g+" for "+e.name)}}}}catch(e){p=!0,h=e}finally{try{!y&&S.return&&S.return()}finally{if(p)throw h}}}catch(e){return d(e)}var b=u(v),z=f.version,P=f.arch,N=f.builddir,O=f.snapshotdir;void 0!==O&&null!==O||(O=i.dirname(r));var j=i.resolve(O,"snapshot_blob.bin");return a(b,j,z,P,N,d)};e.exports=l},function(e,r){e.exports=require("mksnapshot")},function(e,r){e.exports=require("vm")}]);